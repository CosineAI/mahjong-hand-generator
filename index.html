<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Taiwanese Mahjong Winning Hand Generator</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <header>
    <h1>Taiwanese Mahjong Winning Hand Generator</h1>
    <p class="tagline">Generate random 16-tile winning hands with bonus flowers</p>
  </header>

  <main>
    <section class="app">
      <p class="intro">
        This tool creates a random Taiwanese-style winning hand:
        <strong>5 melds + 1 pair</strong> (17 tiles shown, assuming the final winning tile is just drawn),
        plus a random selection of <strong>flower and season tiles</strong>.
      </p>

      <div class="controls">
        <button id="generate-btn">Generate Winning Hand</button>
        <label class="checkbox">
          <input type="checkbox" id="group-melds">
          <span>Group tiles by meld</span>
        </label>
      </div>

      <section class="round-info">
        <div class="round-box">
          <div class="round-label">Round Wind</div>
          <div id="round-wind" class="round-value">—</div>
        </div>
        <div class="round-box">
          <div class="round-label">Player Wind</div>
          <div id="player-wind" class="round-value">—</div>
        </div>
      </section>

      <section class="results">
        <div class="hand-section">
          <h2>Winning Hand</h2>
          <div id="hand-output" class="hand-output empty">
            <p class="placeholder">Click “Generate Winning Hand” to see a random hand.</p>
          </div>
        </div>

        <div class="flowers-section">
          <h2>Flowers &amp; Seasons</h2>
          <div id="flowers-output" class="flowers-output empty">
            <p class="placeholder">Flowers and seasons will appear here.</p>
          </div>
        </div>

        <details class="explanation">
          <summary>What exactly is being generated?</summary>
          <p>
            Taiwanese mahjong is played with <strong>16 tiles in hand</strong>. When you win, you effectively
            have <strong>5 melds (sets of 3 tiles) and 1 pair</strong>, plus the just-drawn winning tile.
            For clarity, this generator shows all <strong>5 melds + 1 pair</strong> explicitly
            (17 tiles total), grouped into sets.
          </p>
          <p>
            Flowers and seasons are <strong>bonus tiles</strong>. They are not part of the 16-tile hand,
            but they are revealed when drawn and score extra points. Here we just show a random selection
            of distinct flower/season tiles alongside the hand.
          </p>
        </details>
      </section>

      <section class="scoring">
        <div class="scoring-header">
          <h2>Scoring</h2>
          <label class="score-toggle">
            <input type="checkbox" id="show-score" checked>
            <span>Show calculated score</span>
          </label>
        </div>

        <div class="score-rules" id="score-rules">
          <div class="score-rule-row" data-rule-id="baseWin">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Base Win</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="5" min="0" step="1">
              <span class="score-rule-unit">pt</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="noFlowers">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">No flowers</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="1" min="0" step="1">
              <span class="score-rule-unit">pt</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="goodFlower">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Good flower</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="2" min="0" step="1">
              <span class="score-rule-unit">pt each</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="badFlower">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Bad flower</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="1" min="0" step="1">
              <span class="score-rule-unit">pt each</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="roundWind">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Matching Round Wind</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="2" min="0" step="1">
              <span class="score-rule-unit">pt each tile</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="playerWind">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Matching Player Wind</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="2" min="0" step="1">
              <span class="score-rule-unit">pt each tile</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="otherWind">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Other Wind</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="1" min="0" step="1">
              <span class="score-rule-unit">pt each tile</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="dragon">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">Red/Green/White Dragon</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="2" min="0" step="1">
              <span class="score-rule-unit">pt each tile</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="allSequences">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">All melds are sequences</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="3" min="0" step="1">
              <span class="score-rule-unit">pt</span>
            </div>
          </div>

          <div class="score-rule-row" data-rule-id="allSequencesNoFlowers">
            <label class="score-rule-main">
              <input type="checkbox" checked>
              <span class="score-rule-label">All melds are sequences, no flowers</span>
            </label>
            <div class="score-rule-value-wrap">
              <span class="score-rule-mult">×</span>
              <input type="number" class="score-rule-value" value="10" min="0" step="1">
              <span class="score-rule-unit">pt</span>
            </div>
          </div>
        </div>

        <div class="score-display" id="score-display">
          <div class="score-total">
            Total Score:
            <span id="score-total-value">0</span>
          </div>
          <div class="score-breakdown" id="score-breakdown"></div>
        </div>
      </section>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Taiwanese Mahjong Hand Generator</p>
  </footer>

  <script src="assets/script.js"></script>
</body>
</html>